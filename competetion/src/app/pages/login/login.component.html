<div class="login-container">
  <form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-header">
      <i class="bi bi-person-circle"></i>
      <h2>Welcome Back</h2>
      <p>Sign in to continue to TechNova</p>
    </div>

    <div class="form-group">
      <label>Email Address</label>
      <div class="input-wrapper" [class.is-invalid]=" loginError|| email.touched && email.invalid">
        <span class="icon">&#9993;</span>
        <input type="email" formControlName="email" placeholder="Enter your email" autocomplete="off"/>
      </div>
      @if(emailError()){
        <small class="text-danger">{{ emailError() }}</small>
      }
      @if(errorMessage){
        <small class="text-danger">{{ errorMessage }}</small>
      }
      <!-- <div class="input-box" [class.is-invalid]="email.touched && email.invalid">
          <i class="bi bi-envelope"></i>
          <input type="email" formControlName="email" placeholder="Enter your email" />
        </div> -->
    </div>

    <div class="form-group">
      <label>Password</label>
      <div class="input-wrapper" [class.is-invalid]="loginError || password.touched && password.invalid">
        <span class="icon">🔒</span>
        <input formControlName="password" [type]="showPassword ? 'text' : 'password'" placeholder="Enter your password" autocomplete="new-password"/>
        <span class="toggle-eye" (click)="togglePassword()">
          👁️
        </span>
      </div>
      @if(passwordError()){
            <small class="text-danger">{{ passwordError() }}</small>
        }
      @if(errorMessage){
        <small class="text-danger">{{ errorMessage }}</small>
      }
    </div>
    <!-- <label>Password</label>
    <div class="input-box" [class.is-invalid]="password.touched && password.invalid">
        
        <i class="bi bi-envelope"></i>
        <input [type]="showPassword ? 'text' : 'password'" placeholder="Enter your password" />
        <span class="toggle-eye" (click)="togglePassword()">👁️</span>
    </div> -->

    <div class="options">
      <label><input type="checkbox" /> Remember me</label>
      <a href="#">Forgot password?</a>
    </div>

    <button type="submit" class="login-btn" [disabled]="loginForm.invalid">
      <i class="bi bi-box-arrow-in-right"></i> Login
    </button>

    <p class="register-link">
      Don't have an account? <a routerLink="/register" >Register</a>
    </p>
  </form>
</div>
